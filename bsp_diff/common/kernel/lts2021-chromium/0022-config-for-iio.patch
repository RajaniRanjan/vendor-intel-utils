From f9040cbc1393fc546517fc8fc3296b03fbc18557 Mon Sep 17 00:00:00 2001
From: "Ranjan, Rajani" <rajani.ranjan@intel.com>
Date: Wed, 21 Jun 2023 12:48:41 +0530
Subject: [PATCH] config for iio

Tracked-On:
Signed-off-by: Ranjan, Rajani <rajani.ranjan@intel.com>
---
 .../lts2021-chromium/x86_64_defconfig         | 87 +++++++++++--------
 1 file changed, 52 insertions(+), 35 deletions(-)

diff --git a/groups/kernel/gmin64/config-lts/lts2021-chromium/x86_64_defconfig b/groups/kernel/gmin64/config-lts/lts2021-chromium/x86_64_defconfig
index 9964093..d6c0152 100644
--- a/groups/kernel/gmin64/config-lts/lts2021-chromium/x86_64_defconfig
+++ b/groups/kernel/gmin64/config-lts/lts2021-chromium/x86_64_defconfig
@@ -3206,7 +3206,7 @@ CONFIG_SENSORS_DELL_SMM=m
 # CONFIG_SENSORS_G760A is not set
 # CONFIG_SENSORS_G762 is not set
 # CONFIG_SENSORS_HIH6130 is not set
-CONFIG_SENSORS_IIO_HWMON=y
+CONFIG_SENSORS_IIO_HWMON=m
 # CONFIG_SENSORS_I5500 is not set
 CONFIG_SENSORS_CORETEMP=y
 # CONFIG_SENSORS_IT87 is not set
@@ -5799,21 +5799,21 @@ CONFIG_EXTCON_GPIO=y
 # CONFIG_EXTCON_USB_GPIO is not set
 # CONFIG_EXTCON_USBC_TUSB320 is not set
 # CONFIG_MEMORY is not set
-CONFIG_IIO=y
+CONFIG_IIO=m
 CONFIG_IIO_BUFFER=y
-# CONFIG_IIO_BUFFER_CB is not set
-# CONFIG_IIO_BUFFER_DMA is not set
-# CONFIG_IIO_BUFFER_DMAENGINE is not set
-# CONFIG_IIO_BUFFER_HW_CONSUMER is not set
-CONFIG_IIO_KFIFO_BUF=y
-CONFIG_IIO_TRIGGERED_BUFFER=y
-# CONFIG_IIO_CONFIGFS is not set
+CONFIG_IIO_BUFFER_CB=m
+CONFIG_IIO_BUFFER_DMA=m
+CONFIG_IIO_BUFFER_DMAENGINE=m
+CONFIG_IIO_BUFFER_HW_CONSUMER=m
+CONFIG_IIO_KFIFO_BUF=m
+CONFIG_IIO_TRIGGERED_BUFFER=m
+CONFIG_IIO_CONFIGFS=m
 CONFIG_IIO_TRIGGER=y
 CONFIG_IIO_CONSUMERS_PER_TRIGGER=2
-# CONFIG_IIO_SW_DEVICE is not set
-# CONFIG_IIO_SW_TRIGGER is not set
-# CONFIG_IIO_TRIGGERED_EVENT is not set
-
+CONFIG_IIO_SW_DEVICE=m
+CONFIG_IIO_SW_TRIGGER=m
+CONFIG_IIO_TRIGGERED_EVENT=m
+CONFIG_IIO_CROS_EC_ACCEL_LEGACY=m
 #
 # Accelerometers
 #
@@ -5837,9 +5837,9 @@ CONFIG_BMC150_ACCEL_SPI=y
 # CONFIG_FXLS8962AF_I2C is not set
 # CONFIG_FXLS8962AF_SPI is not set
 CONFIG_HID_SENSOR_ACCEL_3D=m
-CONFIG_IIO_ST_ACCEL_3AXIS=y
-CONFIG_IIO_ST_ACCEL_I2C_3AXIS=y
-CONFIG_IIO_ST_ACCEL_SPI_3AXIS=y
+CONFIG_IIO_ST_ACCEL_3AXIS=m
+CONFIG_IIO_ST_ACCEL_I2C_3AXIS=m
+CONFIG_IIO_ST_ACCEL_SPI_3AXIS=m
 # CONFIG_KXSD9 is not set
 CONFIG_KXCJK1013=y
 # CONFIG_MC3230 is not set
@@ -5932,7 +5932,10 @@ CONFIG_NAU7802=m
 
 #
 # Chemical Sensors
-#
+
+CONFIG_IIO_CROS_EC_SENSORS_CORE=m
+CONFIG_IIO_CROS_EC_SENSORS=m
+CONFIG_IIO_CROS_EC_SENSORS_LID_ANGLE=m
 # CONFIG_ATLAS_PH_SENSOR is not set
 # CONFIG_ATLAS_EZO_SENSOR is not set
 # CONFIG_BME680 is not set
@@ -5951,7 +5954,7 @@ CONFIG_NAU7802=m
 CONFIG_HID_SENSOR_IIO_COMMON=m
 CONFIG_HID_SENSOR_IIO_TRIGGER=m
 # end of Hid Sensor IIO Common
-
+CONFIG_IIO_MS_SENSORS_I2C=m
 #
 # IIO SCMI Sensors
 #
@@ -5963,9 +5966,11 @@ CONFIG_HID_SENSOR_IIO_TRIGGER=m
 # CONFIG_IIO_SSP_SENSORHUB is not set
 # end of SSP Sensor Common
 
-CONFIG_IIO_ST_SENSORS_I2C=y
-CONFIG_IIO_ST_SENSORS_SPI=y
-CONFIG_IIO_ST_SENSORS_CORE=y
+CONFIG_IIO_SSP_SENSORS_COMMONS=m
+CONFIG_IIO_SSP_SENSORHUB=m
+CONFIG_IIO_ST_SENSORS_I2C=m
+CONFIG_IIO_ST_SENSORS_SPI=m
+CONFIG_IIO_ST_SENSORS_CORE=m
 
 #
 # Digital to analog converters
@@ -6006,7 +6011,7 @@ CONFIG_IIO_ST_SENSORS_CORE=y
 
 #
 # IIO dummy driver
-#
+CONFIG_IIO_SIMPLE_DUMMY=m
 # end of IIO dummy driver
 
 #
@@ -6042,9 +6047,9 @@ CONFIG_BMG160_SPI=y
 # CONFIG_FXAS21002C is not set
 CONFIG_HID_SENSOR_GYRO_3D=m
 # CONFIG_MPU3050_I2C is not set
-CONFIG_IIO_ST_GYRO_3AXIS=y
-CONFIG_IIO_ST_GYRO_I2C_3AXIS=y
-CONFIG_IIO_ST_GYRO_SPI_3AXIS=y
+CONFIG_IIO_ST_GYRO_3AXIS=m
+CONFIG_IIO_ST_GYRO_I2C_3AXIS=m
+CONFIG_IIO_ST_GYRO_SPI_3AXIS=m
 # CONFIG_ITG3200 is not set
 # end of Digital gyroscope sensors
 
@@ -6092,8 +6097,14 @@ CONFIG_KMX61=y
 # CONFIG_INV_ICM42600_SPI is not set
 # CONFIG_INV_MPU6050_I2C is not set
 # CONFIG_INV_MPU6050_SPI is not set
-# CONFIG_IIO_ST_LSM6DSX is not set
-# CONFIG_IIO_ST_LSM9DS0 is not set
+CONFIG_INV_MPU6050_IIO=m
+CONFIG_IIO_ST_LSM6DSX=m
+CONFIG_IIO_ST_LSM6DSX_I2C=m
+CONFIG_IIO_ST_LSM6DSX_SPI=m
+CONFIG_IIO_ST_LSM6DSX_I3C=m
+CONFIG_IIO_ST_LSM9DS0=m
+CONFIG_IIO_ST_LSM9DS0_I2C=m
+CONFIG_IIO_ST_LSM9DS0_SPI=m
 # end of Inertial measurement units
 
 #
@@ -6147,6 +6158,9 @@ CONFIG_JSA1212=m
 # CONFIG_VEML6070 is not set
 # CONFIG_VL6180 is not set
 # CONFIG_ZOPT2201 is not set
+CONFIG_IIO_ADIS_LIB=m
+CONFIG_IIO_ADIS_LIB_BUFFER=y
+CONFIG_IIO_CROS_EC_LIGHT_PROX=m
 # end of Light sensors
 
 #
@@ -6159,9 +6173,9 @@ CONFIG_AK09911=m
 # CONFIG_MAG3110 is not set
 CONFIG_HID_SENSOR_MAGNETOMETER_3D=m
 # CONFIG_MMC35240 is not set
-CONFIG_IIO_ST_MAGN_3AXIS=y
-CONFIG_IIO_ST_MAGN_I2C_3AXIS=y
-CONFIG_IIO_ST_MAGN_SPI_3AXIS=y
+CONFIG_IIO_ST_MAGN_3AXIS=m
+CONFIG_IIO_ST_MAGN_I2C_3AXIS=m
+CONFIG_IIO_ST_MAGN_SPI_3AXIS=m
 # CONFIG_SENSORS_HMC5843_I2C is not set
 # CONFIG_SENSORS_HMC5843_SPI is not set
 # CONFIG_SENSORS_RM3100_I2C is not set
@@ -6184,8 +6198,11 @@ CONFIG_HID_SENSOR_INCLINOMETER_3D=m
 #
 # Triggers - standalone
 #
-CONFIG_IIO_INTERRUPT_TRIGGER=y
-CONFIG_IIO_SYSFS_TRIGGER=y
+CONFIG_IIO_HRTIMER_TRIGGER=m
+CONFIG_IIO_INTERRUPT_TRIGGER=m
+CONFIG_IIO_SYSFS_TRIGGER=m
+CONFIG_IIO_TIGHTLOOP_TRIGGER=m
+CONFIG_IIO_CROS_EC_BARO=m
 # end of Triggers - standalone
 
 #
@@ -6231,9 +6248,9 @@ CONFIG_IIO_SYSFS_TRIGGER=y
 # CONFIG_MPL3115 is not set
 # CONFIG_MS5611 is not set
 # CONFIG_MS5637 is not set
-CONFIG_IIO_ST_PRESS=y
-CONFIG_IIO_ST_PRESS_I2C=y
-CONFIG_IIO_ST_PRESS_SPI=y
+CONFIG_IIO_ST_PRESS=m
+CONFIG_IIO_ST_PRESS_I2C=m
+CONFIG_IIO_ST_PRESS_SPI=m
 # CONFIG_T5403 is not set
 # CONFIG_HP206C is not set
 # CONFIG_ZPA2326 is not set
-- 
2.34.1

